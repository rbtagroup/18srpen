
:root{
  --gold:#d4af37;
  --gold-2:#f3d17a;
  --gold-3:#b8932a;
  --ink:#151515;
  --muted:#c9c9c9;
  --bg-grad: radial-gradient(1200px 800px at 10% 10%, rgba(255,215,130,.18), rgba(255,255,255,0) 50%),
             radial-gradient(1200px 800px at 90% 0%, rgba(255,215,130,.10), rgba(255,255,255,0) 55%),
             linear-gradient(180deg, #0d0d0d 0%, #121212 100%);
  --card:rgba(255,255,255,.08);
  --card-border:rgba(255,255,255,.15);
  --glass: blur(10px) saturate(130%);
  --green:#10b981;
  --blue:#3b82f6;
  --shadow:0 8px 30px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg-grad);color:#f6f6f6;font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif}
a{color:inherit}
header{position:sticky;top:0;z-index:20;background:linear-gradient(180deg, rgba(0,0,0,.65), rgba(0,0,0,.35));backdrop-filter:var(--glass);-webkit-backdrop-filter:var(--glass);border-bottom:1px solid rgba(255,255,255,.08);}
header h1{margin:0;padding:16px;display:flex;align-items:center;gap:12px}
.brand-icon{width:30px;height:30px;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.45);border:1px solid rgba(255,255,255,.25);}
.brand-title{font-family:"Playfair Display", serif;font-weight:600;letter-spacing:.3px;background:linear-gradient(90deg, var(--gold), var(--gold-2));-webkit-background-clip:text;background-clip:text;color:transparent;font-size:20px;}
main{padding:18px;max-width:760px;margin:0 auto}
form, #output, #history{border:1px solid var(--card-border);border-radius:18px;padding:16px;background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));backdrop-filter:var(--glass);-webkit-backdrop-filter:var(--glass);box-shadow:var(--shadow)}
label{display:block;margin:10px 0 6px;font-weight:600;color:#c9c9c9}
input,select,textarea{width:100%;padding:12px 14px;border:1px solid rgba(255,255,255,.18);border-radius:12px;background:rgba(0,0,0,.35);color:#fff;font-size:16px;outline:none;transition:border-color .2s ease, background .2s ease, transform .03s linear}
input:focus,select:focus,textarea:focus{border-color:var(--gold);background:rgba(0,0,0,.25)}
.form-actions, #actions{display:grid;grid-template-columns:1fr;gap:12px;margin-top:14px}
button{appearance:none;border:none;border-radius:14px;padding:12px 16px;font-weight:800;letter-spacing:.2px;color:#1a1400;background:linear-gradient(180deg, var(--gold-2), var(--gold));box-shadow:0 10px 22px rgba(212,175,55,.25), inset 0 1px 0 rgba(255,255,255,.35);transition:transform .06s ease, box-shadow .2s ease, filter .15s ease}
button:hover{filter:saturate(110%)}
button:active{transform:translateY(1px);box-shadow:0 6px 16px rgba(212,175,55,.25), inset 0 1px 0 rgba(255,255,255,.35)}
button.secondary{background:rgba(255,255,255,.06);color:#f0f0f0;border:1px solid rgba(255,255,255,.14);box-shadow:var(--shadow)}
#output .title{font-family:"Playfair Display", serif;font-weight:600;font-size:22px;margin:0 0 8px;display:flex;align-items:center;gap:8px;background:linear-gradient(90deg, var(--gold), var(--gold-2));-webkit-background-clip:text;background-clip:text;color:transparent}
#output .row{display:flex;align-items:center;gap:10px;margin:8px 0}
#output .row .key{min-width:160px;font-weight:700;color:#f8f8f8;opacity:.9}
#output .row .val{flex:1;color:#e9e9e9}
#output .hr{height:1px;background:rgba(255,255,255,.12);margin:12px 0;border-radius:1px}
#output .money-blue{color:var(--blue);font-weight:800}
#output .money-green{color:var(--green);font-weight:800}
#output .money-red{color:#ef4444;font-weight:800}
.note{border:2px dashed rgba(255,255,255,.2);border-radius:12px;padding:12px;margin-top:12px;background:rgba(0,0,0,.25)}
.hidden{display:none}
@media (min-width:520px){ .form-actions, #actions{grid-template-columns:repeat(3,1fr)} }
@media (max-width:390px){ main{padding:12px} input,select,textarea{font-size:16px;padding:11px 12px} .brand-title{font-size:18px} #output .row .key{min-width:132px} }


/* === ULTRA overrides: unified button sizing and states === */
button{
  appearance:none;
  height:40px;
  min-height:40px;
  padding:0 14px;
  border:none;
  border-radius:14px;
  background:linear-gradient(180deg, var(--gold-2), var(--gold));
  color:#111;
  font-weight:700;
  letter-spacing:.2px;
  cursor:pointer;
  box-shadow:0 8px 20px rgba(212,175,55,.35);
  transition:transform .08s ease, box-shadow .2s ease, filter .2s ease;
}
button:hover{filter:saturate(115%); box-shadow:0 10px 28px rgba(212,175,55,.45)}
button:active{transform:translateY(1px)}
button:focus-visible{outline:2px solid #fff; outline-offset:2px}
button.secondary{
  background:rgba(255,255,255,.06);
  color:#f0f0f0;
  border:1px solid rgba(255,255,255,.16);
  box-shadow:var(--shadow);
}
#actions button{width:100%}
@media (max-width:480px){
  .brand-title{font-size:18px}
  input,select,textarea{font-size:16px}
  .form-actions{gap:10px}
}

/* === v10 THEME ADDITIONS === */

/* === THEME SYSTEM === */
:root{
  --bg: var(--bg-grad);
  --text:#f6f6f6;
  --muted:#c9c9c9;
  --card-bg: rgba(255,255,255,.08);
  --card-border: rgba(255,255,255,.15);
  --field-bg: rgba(255,255,255,.06);
  --field-border: rgba(255,255,255,.14);
}
body.light-mode{
  --bg: linear-gradient(180deg, #fafafa 0%, #f0f0f0 100%);
  --text:#1b1b1b;
  --muted:#555;
  --card-bg: rgba(0,0,0,.03);
  --card-border: rgba(0,0,0,.10);
  --field-bg: rgba(255,255,255,1);
  --field-border: rgba(0,0,0,.12);
}
html,body{color:var(--text)}
form, #output, #history{background:var(--card-bg); border-color:var(--card-border)}
input,select,textarea{background:var(--field-bg); border-color:var(--field-border); color:var(--text)}
#themeToggle{
  position:absolute; right:12px; top:12px; 
  padding:8px 12px; border-radius:12px; font-weight:600;
  cursor:pointer; user-select:none;
  background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.18);
  backdrop-filter:var(--glass); -webkit-backdrop-filter:var(--glass);
}
body.light-mode #themeToggle{ background:rgba(0,0,0,.05); border-color:rgba(0,0,0,.1);}


/* === THEME CLEAN FIX v11_pro_clean_20250821101652 === */
:root{ --bg: var(--bg-grad); --text:#f6f6f6; }
body.light-mode{ --bg: linear-gradient(180deg,#fafafa 0%,#f0f0f0 100%); --text:#1b1b1b; }
html, body{ background: var(--bg) !important; color: var(--text) !important; }
label, .row .key, .row .val, header h1, #history, #history *{ color: var(--text) !important; }

/* === SVG ICONS v12_svg_icons_20250821102256 === */
.icon{
  width: 18px; height: 18px;
  display: inline-block;
  vertical-align: -3px;
  stroke: currentColor;
  fill: none;
}
label .ico, #output .key .ico {
  margin-right: 6px;
}
button .icon{ margin-right:8px; }


/* === Accents for key finance rows === */
.row.accent-odev { background: rgba(255, 215, 0, 0.12); border-left: 3px solid rgba(255, 215, 0, 0.6); }
.row.accent-pay { background: rgba(0, 200, 83, 0.12); border-left: 3px solid rgba(0, 200, 83, 0.6); }
.row.accent-doplatek { background: rgba(255, 82, 82, 0.12); border-left: 3px solid rgba(255, 82, 82, 0.6); }
.row.accent-odev .val, .row.accent-pay .val, .row.accent-doplatek .val { font-weight: 700; }

#shareImgBtn{cursor:pointer}


/* === Premium finance rows styling (improved) === */
#output .row{ padding:10px 12px; border-radius:12px; }
#output .row .val{ text-align:right; font-variant-numeric:tabular-nums; font-feature-settings:"tnum" 1, "lnum" 1; letter-spacing:.2px; font-weight:800; }
.row.accent-odev { background: rgba(255, 215, 0, 0.11); border-left: 4px solid rgba(255,215,0,.75); }
.row.accent-pay { background: rgba(34, 197, 94, 0.12); border-left: 4px solid rgba(34,197,94,.75); }
.row.accent-doplatek { background: rgba(239,68,68,.12); border-left: 4px solid rgba(239,68,68,.85); }
.row.accent-grand { background: linear-gradient(180deg, rgba(255,215,130,.18), rgba(255,215,130,.08)); border-left:5px solid rgba(255,215,0,.9); box-shadow: 0 8px 24px rgba(212,175,55,.15), inset 0 1px 0 rgba(255,255,255,.08); }


/* === TOP-TOP Grand Total Styling === */
.row.accent-grand {
  background: linear-gradient(90deg, #f3d17a, #d4af37 60%, #b8932a);
  border-left: 5px solid #ffd700;
  border-radius: 14px;
  box-shadow: 0 0 12px rgba(212,175,55,.6), inset 0 1px 2px rgba(255,255,255,.25);
  margin-top: 12px; padding: 14px 16px;
}
.row.accent-grand .key { font-size: 18px; font-weight: 800; color: #fff8dc; text-shadow: 0 1px 2px rgba(0,0,0,.7); display:flex; align-items:center; gap:8px; }
.row.accent-grand .key::before { content:"👑"; font-size:20px; }
.row.accent-grand .val { font-size: 22px; font-weight: 900; color: #fff; text-shadow: 0 1px 3px rgba(0,0,0,.75); }


/* === TOP-TOP COMPACT OVERRIDES === */
#output .row { padding: 6px 10px !important; margin: 6px 0 !important; border-radius: 10px !important; }
#output .hr { margin: 8px 0 !important; }
.row.accent-odev, .row.accent-pay, .row.accent-doplatek { padding: 6px 10px !important; border-radius: 10px !important; }
.row.accent-odev .val, .row.accent-pay .val, .row.accent-doplatek .val { font-size: 16px !important; font-weight: 700 !important; }
.row.accent-grand { border-left-width: 4px !important; border-radius: 10px !important; margin-top: 8px !important; padding: 10px 12px !important; box-shadow: 0 0 8px rgba(212,175,55,.4), inset 0 1px 2px rgba(255,255,255,.2) !important; }
.row.accent-grand .key { font-size: 16px !important; font-weight: 700 !important; gap: 6px !important; }
.row.accent-grand .val { font-size: 18px !important; font-weight: 800 !important; }


/* === ULTRA-COMPACT FINANCE ROWS === */
#output .row { padding: 4px 8px !important; margin: 4px 0 !important; border-radius: 8px !important; }
#output .hr { margin: 6px 0 !important; }
.row.accent-odev, .row.accent-pay, .row.accent-doplatek { padding: 4px 8px !important; border-radius: 8px !important; }
.row.accent-odev .val, .row.accent-pay .val, .row.accent-doplatek .val { font-size: 15px !important; font-weight: 700 !important; }
.row.accent-grand { padding: 6px 10px !important; border-radius: 8px !important; margin-top: 6px !important; }
.row.accent-grand .key { font-size: 14px !important; font-weight: 700 !important; }
.row.accent-grand .val { font-size: 16px !important; font-weight: 800 !important; }


/* === TOP UI REFINEMENT === */

/* Dark mode background */
body {
  background: linear-gradient(180deg, #0c0c0c, #181818) !important;
  color: #fafafa !important;
}

/* Output card (výčetka) */
#output {
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 22px;
  box-shadow: 0 8px 30px rgba(0,0,0,.45);
  padding: 20px;
}

/* Headline */
#output .title {
  font-family: "Playfair Display", serif;
  font-size: 24px;
  font-weight: 700;
  background: linear-gradient(90deg, var(--gold), var(--gold-2));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* Key rows */
#output .row {
  margin: 8px 0;
  padding: 8px 12px;
  border-radius: 12px;
}

/* Specific accents */
.row.accent-odev { background: rgba(255, 215, 0, 0.15); border-left: 4px solid #ffd700; }
.row.accent-pay { background: rgba(16, 185, 129, 0.15); border-left: 4px solid #10b981; }
.row.accent-doplatek { background: rgba(239, 68, 68, 0.15); border-left: 4px solid #ef4444; }
.row.accent-grand {
  background: linear-gradient(90deg, #f3d17a, #d4af37);
  border-left: 5px solid #ffd700;
  box-shadow: 0 0 14px rgba(212,175,55,.6);
}

/* Values */
#output .val {
  text-align: right;
  font-weight: 800;
  font-size: 16px;
}

/* Grand total values bigger */
.row.accent-grand .val {
  font-size: 20px;
  font-weight: 900;
  color: #fff;
}


/* === TOP UI REFINEMENT (v10) === */

/* Higher-contrast dark gradient background */
body {
  background: linear-gradient(180deg, #0b0b0b, #171717);
  color: #fafafa;
}

/* Output card polish */
#output {
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 22px;
  box-shadow: 0 8px 30px rgba(0,0,0,.45);
  padding: 20px;
}

/* Title with premium gradient */
#output .title {
  font-family: "Playfair Display", serif;
  font-size: 24px;
  font-weight: 700;
  background: linear-gradient(90deg, var(--gold), var(--gold-2));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* Rows */
#output .row {
  margin: 8px 0;
  padding: 8px 12px;
  border-radius: 12px;
}

/* Key/value defaults */
#output .row .key { color: #f3f3f3; opacity: .95; }
#output .row .val {
  text-align: right;
  font-weight: 800;
  font-size: 16px;
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum" 1, "lnum" 1;
}

/* Accents */
.row.accent-odev { background: rgba(255, 215, 0, 0.15); border-left: 4px solid #ffd700; }
.row.accent-pay { background: rgba(16, 185, 129, 0.15); border-left: 4px solid #10b981; }
.row.accent-doplatek { background: rgba(239, 68, 68, 0.15); border-left: 4px solid #ef4444; }
.row.accent-grand {
  background: linear-gradient(90deg, #f3d17a, #d4af37);
  border-left: 5px solid #ffd700;
  box-shadow: 0 0 14px rgba(212,175,55,.6);
}

/* Grand total bigger */
.row.accent-grand .val {
  font-size: 20px;
  font-weight: 900;
  color: #ffffff;
}

/* Subtle divider */
#output .hr {
  height: 1px;
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.18), rgba(255,255,255,0));
  margin: 10px 0;
}


/* === TOP UI REFINEMENT (v11 force override) === */

body {
  background: linear-gradient(180deg, #0a0a0a, #161616) !important;
  color: #fafafa !important;
}

#output {
  background: rgba(255,255,255,.06) !important;
  border: 1px solid rgba(255,255,255,.12) !important;
  border-radius: 22px !important;
  box-shadow: 0 8px 30px rgba(0,0,0,.55) !important;
  padding: 20px !important;
}

#output .title {
  font-family: "Playfair Display", serif !important;
  font-size: 26px !important;
  font-weight: 700 !important;
  background: linear-gradient(90deg, var(--gold), var(--gold-2)) !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  color: transparent !important;
}

#output .row {
  margin: 6px 0 !important;
  padding: 8px 12px !important;
  border-radius: 12px !important;
}

#output .row .key {
  color: #f5f5f5 !important;
  font-weight: 700 !important;
}

#output .row .val {
  text-align: right !important;
  font-weight: 800 !important;
  font-size: 16px !important;
  font-variant-numeric: tabular-nums !important;
  font-feature-settings: "tnum" 1, "lnum" 1 !important;
}

/* Accents */
.row.accent-odev { background: rgba(255, 215, 0, 0.18) !important; border-left: 4px solid #ffd700 !important; }
.row.accent-pay { background: rgba(16, 185, 129, 0.18) !important; border-left: 4px solid #10b981 !important; }
.row.accent-doplatek { background: rgba(239, 68, 68, 0.18) !important; border-left: 4px solid #ef4444 !important; }
.row.accent-grand {
  background: linear-gradient(90deg, #f3d17a, #d4af37) !important;
  border-left: 5px solid #ffd700 !important;
  box-shadow: 0 0 16px rgba(212,175,55,.7) !important;
}

.row.accent-grand .val {
  font-size: 20px !important;
  font-weight: 900 !important;
  color: #ffffff !important;
}

#output .hr {
  height: 1px !important;
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.25), rgba(255,255,255,0)) !important;
  margin: 10px 0 !important;
}


/* === TOP UI REFINEMENT (v11 FORCE) === */
body {
  background: linear-gradient(180deg, #0a0a0a, #151515) !important;
  color: #fafafa !important;
}
#output {
  background: rgba(255,255,255,.07) !important;
  border: 1px solid rgba(255,255,255,.14) !important;
  border-radius: 22px !important;
  box-shadow: 0 10px 34px rgba(0,0,0,.5) !important;
  padding: 20px !important;
}
#output .title {
  font-family: "Playfair Display", serif !important;
  font-size: 24px !important;
  font-weight: 700 !important;
  background: linear-gradient(90deg, var(--gold), var(--gold-2)) !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  color: transparent !important;
}
#output .row {
  margin: 8px 0 !important;
  padding: 8px 12px !important;
  border-radius: 12px !important;
}
#output .row .key { color: #f3f3f3 !important; opacity: .96 !important; font-weight: 700 !important; }
#output .row .val {
  text-align: right !important;
  font-weight: 800 !important;
  font-size: 16px !important;
  font-variant-numeric: tabular-nums !important;
  font-feature-settings: "tnum" 1, "lnum" 1 !important;
}
.row.accent-odev { background: rgba(255, 215, 0, 0.16) !important; border-left: 4px solid #ffd700 !important; }
.row.accent-pay { background: rgba(16,185,129,.16) !important; border-left: 4px solid #10b981 !important; }
.row.accent-doplatek { background: rgba(239,68,68,.16) !important; border-left: 4px solid #ef4444 !important; }
.row.accent-grand {
  background: linear-gradient(90deg, #f3d17a, #d4af37) !important;
  border-left: 5px solid #ffd700 !important;
  box-shadow: 0 0 16px rgba(212,175,55,.65) !important;
}
.row.accent-grand .val { font-size: 20px !important; font-weight: 900 !important; color: #ffffff !important; }
#output .hr {
  height: 1px !important;
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.2), rgba(255,255,255,0)) !important;
  margin: 10px 0 !important;
}


/* === LIQUID GLASS THEME v13 === */
body {
  background: linear-gradient(135deg, #050505, #0d0d1a, #001f3f) !important;
  background-attachment: fixed !important;
  color: #fefefe !important;
  font-family: Inter, sans-serif !important;
}

/* Skleněné panely */
.card, #output, form {
  background: rgba(255, 255, 255, 0.08) !important;
  border: 1px solid rgba(255, 255, 255, 0.18) !important;
  border-radius: 22px !important;
  backdrop-filter: blur(20px) saturate(150%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(150%) !important;
  box-shadow: 0 8px 40px rgba(0,0,0,.6) !important;
  overflow: hidden !important;
}

/* Řádky */
#output .row {
  padding: 10px 14px !important;
  margin: 6px 0 !important;
  border-radius: 14px !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  transition: background .3s ease !important;
}
#output .row:hover {
  background: rgba(255,255,255,0.05) !important;
}

/* Accent rows – liquid capsule */
.row.accent-pay {
  background: linear-gradient(135deg, #34d399, #059669) !important;
  color: #fff !important;
  box-shadow: 0 0 12px rgba(34,197,94,.6) !important;
}
.row.accent-doplatek {
  background: linear-gradient(135deg, #ef4444, #991b1b) !important;
  color: #fff !important;
  box-shadow: 0 0 12px rgba(239,68,68,.6) !important;
}
.row.accent-grand {
  background: linear-gradient(135deg, #facc15, #f59e0b, #b45309) !important;
  color: #fff !important;
  font-size: 20px !important;
  font-weight: 900 !important;
  box-shadow: 0 0 20px rgba(250,204,21,.8) !important;
}


/* === LIQUID GLASS THEME (v13) === */
/* Dark premium background with subtle animated highlight */
@keyframes lgBeam {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

html, body {
  background: linear-gradient(135deg, #050507, #0b0b14, #071a30) !important;
  background-size: 200% 200% !important;
  animation: lgBeam 18s ease infinite;
  color: #f7f7f7 !important;
}

/* Glass panels */
header, form, #output {
  background: rgba(255, 255, 255, 0.08) !important;
  border: 1px solid rgba(255, 255, 255, 0.18) !important;
  border-radius: 20px !important;
  backdrop-filter: blur(16px) saturate(150%) !important;
  -webkit-backdrop-filter: blur(16px) saturate(150%) !important;
  box-shadow: 0 10px 40px rgba(0,0,0,.55) !important;
}

/* Title — premium serif with gold gradient */
#output .title {
  font-family: "Playfair Display", serif !important;
  font-size: 22px !important;
  font-weight: 700 !important;
  background: linear-gradient(90deg, var(--gold), var(--gold-2)) !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  color: transparent !important;
}

/* Rows — compact */
#output .row {
  margin: 6px 0 !important;
  padding: 6px 10px !important;
  border-radius: 12px !important;
  transition: background .25s ease !important;
}
#output .row:hover { background: rgba(255,255,255,0.05) !important; }

#output .row .key {
  color: #f2f2f2 !important;
  font-weight: 700 !important;
  opacity: .98 !important;
  font-size: 14px !important;
}
#output .row .val {
  text-align: right !important;
  font-weight: 800 !important;
  font-size: 15px !important;
  font-variant-numeric: tabular-nums !important;
  font-feature-settings: "tnum" 1, "lnum" 1 !important;
  letter-spacing: .15px !important;
}

/* Accent capsules (liquid gradients) */
.row.accent-pay {
  background: linear-gradient(135deg, #34d399, #059669) !important;
  border-left: 4px solid rgba(255,255,255,.25) !important;
  color: #fff !important;
  box-shadow: 0 0 14px rgba(34,197,94,.55) !important;
}
.row.accent-odev {
  background: linear-gradient(135deg, #fde047, #f59e0b) !important;
  border-left: 4px solid rgba(255,255,255,.25) !important;
  color: #2a2100 !important;
  box-shadow: 0 0 14px rgba(245,158,11,.45) !important;
}
.row.accent-doplatek {
  background: linear-gradient(135deg, #ef4444, #991b1b) !important;
  border-left: 4px solid rgba(255,255,255,.25) !important;
  color: #fff !important;
  box-shadow: 0 0 14px rgba(239,68,68,.55) !important;
}
.row.accent-grand {
  background: linear-gradient(135deg, #facc15, #f59e0b, #b45309) !important;
  border-left: 5px solid #ffd700 !important;
  color: #fff !important;
  box-shadow: 0 0 22px rgba(250,204,21,.75) !important;
}
.row.accent-grand .val { font-size: 18px !important; font-weight: 900 !important; }

/* Money color helpers with better contrast on dark */
#output .money-blue { color: #60a5fa !important; }
#output .money-green { color: #34d399 !important; }
#output .money-red { color: #f87171 !important; }

/* Buttons — liquid capsules */
button {
  height: 40px !important;
  min-height: 40px !important;
  padding: 0 16px !important;
  border-radius: 999px !important;
  background: linear-gradient(135deg, rgba(255,255,255,.2), rgba(255,255,255,.08)) !important;
  border: 1px solid rgba(255,255,255,.28) !important;
  color: #f7f7f7 !important;
  font-weight: 800 !important;
  letter-spacing: .2px !important;
  backdrop-filter: blur(12px) saturate(160%) !important;
  -webkit-backdrop-filter: blur(12px) saturate(160%) !important;
  box-shadow: 0 10px 26px rgba(0,0,0,.45) !important;
  transition: transform .12s ease, box-shadow .2s ease, filter .2s ease !important;
}
button:hover { filter: saturate(115%) !important; transform: translateY(-1px) !important; }
button:active { transform: translateY(0) scale(.99) !important; }

/* Share button slight highlight */
#shareImgBtn {
  background: linear-gradient(135deg, #0ea5e9, #3b82f6) !important;
  border-color: rgba(255,255,255,.35) !important;
}

/* Header polish */
header {
  border-radius: 16px !important;
  background: rgba(255,255,255,.06) !important;
  border: 1px solid rgba(255,255,255,.16) !important;
}

/* Divider beam */
#output .hr {
  height: 1px !important;
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.22), rgba(255,255,255,0)) !important;
  margin: 8px 0 !important;
}


/* === LIQUID GLASS – LIGHT MODE READABILITY FIX (v14) === */
/* Applies for system light mode and explicit body.light class */
@media (prefers-color-scheme: light){
  html, body { 
    background: linear-gradient(180deg, #ffffff, #f7f7fa) !important; 
    color: #0e0e0e !important; 
  }
  header, form, #output {
    background: rgba(255,255,255,0.85) !important;
    border: 1px solid rgba(0,0,0,0.08) !important;
    border-radius: 20px !important;
    backdrop-filter: blur(10px) saturate(120%) !important;
    -webkit-backdrop-filter: blur(10px) saturate(120%) !important;
    box-shadow: 0 8px 30px rgba(0,0,0,.06) !important;
  }
  #output .title {
    background: linear-gradient(90deg, #8a6b00, #d4af37) !important;
    -webkit-background-clip: text !important;
    background-clip: text !important;
    color: transparent !important;
  }
  #output .row .key { color:#222 !important; opacity: .95 !important; }
  #output .row .val { color:#111 !important; }

  /* Accent rows with high-contrast light palettes */
  .row.accent-odev { background: #fff8d8 !important; border-left: 4px solid #c9a400 !important; color: #1a1400 !important; }
  .row.accent-pay { background: #e8fff4 !important; border-left: 4px solid #059669 !important; color: #053e2f !important; }
  .row.accent-doplatek { background: #ffecec !important; border-left: 4px solid #b91c1c !important; color: #5c0c0c !important; }
  .row.accent-grand { 
    background: linear-gradient(90deg, #fff3b0, #ffe38a) !important; 
    border-left: 5px solid #c9a400 !important; 
    box-shadow: 0 0 14px rgba(201,164,0,.20) !important;
    color:#1a1400 !important;
  }

  /* Money helpers in light theme */
  #output .money-blue { color: #1d4ed8 !important; }
  #output .money-green { color: #047857 !important; }
  #output .money-red { color: #b91c1c !important; }

  /* Divider */
  #output .hr { 
    background: linear-gradient(90deg, rgba(0,0,0,0), rgba(0,0,0,.12), rgba(0,0,0,0)) !important; 
  }

  /* Buttons in light */
  button {
    background: linear-gradient(135deg, #ffffff, #f3f4f6) !important;
    border: 1px solid rgba(0,0,0,.12) !important;
    color: #111 !important;
    box-shadow: 0 4px 16px rgba(0,0,0,.08) !important;
  }
  #shareImgBtn {
    background: linear-gradient(135deg, #0ea5e9, #3b82f6) !important;
    color: #fff !important;
    border-color: rgba(0,0,0,.15) !important;
  }
}

/* Explicit toggle support: body.light enforces the same palette */
body.light, body.light * {
  /* Avoid accidentally inheriting dark contrasts */
}
body.light {
  background: linear-gradient(180deg, #ffffff, #f7f7fa) !important; 
  color: #0e0e0e !important; 
}
body.light header,
body.light form,
body.light #output {
  background: rgba(255,255,255,0.85) !important;
  border: 1px solid rgba(0,0,0,0.08) !important;
  border-radius: 20px !important;
  backdrop-filter: blur(10px) saturate(120%) !important;
  -webkit-backdrop-filter: blur(10px) saturate(120%) !important;
  box-shadow: 0 8px 30px rgba(0,0,0,.06) !important;
}
body.light #output .title {
  background: linear-gradient(90deg, #8a6b00, #d4af37) !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  color: transparent !important;
}
body.light #output .row .key { color:#222 !important; opacity:.95 !important; }
body.light #output .row .val { color:#111 !important; }
body.light .row.accent-odev { background: #fff8d8 !important; border-left: 4px solid #c9a400 !important; color: #1a1400 !important; }
body.light .row.accent-pay { background: #e8fff4 !important; border-left: 4px solid #059669 !important; color: #053e2f !important; }
body.light .row.accent-doplatek { background: #ffecec !important; border-left: 4px solid #b91c1c !important; color: #5c0c0c !important; }
body.light .row.accent-grand { 
  background: linear-gradient(90deg, #fff3b0, #ffe38a) !important; 
  border-left: 5px solid #c9a400 !important; 
  box-shadow: 0 0 14px rgba(201,164,0,.20) !important;
  color:#1a1400 !important;
}
body.light #output .money-blue { color: #1d4ed8 !important; }
body.light #output .money-green { color: #047857 !important; }
body.light #output .money-red { color: #b91c1c !important; }
body.light #output .hr { 
  background: linear-gradient(90deg, rgba(0,0,0,0), rgba(0,0,0,.12), rgba(0,0,0,0)) !important; 
}
body.light button {
  background: linear-gradient(135deg, #ffffff, #f3f4f6) !important;
  border: 1px solid rgba(0,0,0,.12) !important;
  color: #111 !important;
  box-shadow: 0 4px 16px rgba(0,0,0,.08) !important;
}
body.light #shareImgBtn {
  background: linear-gradient(135deg, #0ea5e9, #3b82f6) !important;
  color: #fff !important;
  border-color: rgba(0,0,0,.15) !important;
}


/* === LIGHT MODE FORM FIX (v15) === */
@media (prefers-color-scheme: light) {
  body.light, body {
    background: linear-gradient(180deg, #fafafa, #f0f0f0) !important;
    color: #111 !important;
  }

  form {
    background: rgba(255,255,255,0.9) !important;
    border: 1px solid rgba(0,0,0,0.08) !important;
    border-radius: 20px !important;
    box-shadow: 0 4px 18px rgba(0,0,0,.08) !important;
    padding: 20px !important;
  }

  input, select, textarea {
    background: rgba(255,255,255,0.95) !important;
    border: 1px solid rgba(0,0,0,0.12) !important;
    border-radius: 10px !important;
    padding: 10px 12px !important;
    font-size: 15px !important;
    color: #111 !important;
    box-shadow: inset 0 1px 2px rgba(0,0,0,.05) !important;
  }
  input::placeholder, textarea::placeholder {
    color: #555 !important;
  }
}


/* === THEME COMPAT LAYER (v16) === */
/* App uses body.light-mode class. Mirror all body.light rules to .light-mode. */

/* Dark inputs polish (when NOT in light mode) */
body:not(.light-mode) input,
body:not(.light-mode) select,
body:not(.light-mode) textarea {
  background: rgba(255,255,255,0.08) !important;
  border: 1px solid rgba(255,255,255,0.16) !important;
  color: #f5f5f5 !important;
}

/* Light mode via .light-mode (explicit toggle) */
body.light-mode {
  background: linear-gradient(180deg, #fafafa, #f0f0f0) !important;
  color: #111 !important;
}
body.light-mode header,
body.light-mode form,
body.light-mode #output {
  background: rgba(255,255,255,0.92) !important;
  border: 1px solid rgba(0,0,0,0.08) !important;
  border-radius: 20px !important;
  box-shadow: 0 4px 18px rgba(0,0,0,.08) !important;
}
body.light-mode input,
body.light-mode select,
body.light-mode textarea {
  background: rgba(255,255,255,0.98) !important;
  border: 1px solid rgba(0,0,0,0.12) !important;
  border-radius: 10px !important;
  padding: 10px 12px !important;
  font-size: 15px !important;
  color: #111 !important;
  box-shadow: inset 0 1px 2px rgba(0,0,0,.05) !important;
}
body.light-mode input::placeholder,
body.light-mode textarea::placeholder { color: #555 !important; }

/* Accent rows in light-mode */
body.light-mode .row.accent-odev { background: #fff8d8 !important; border-left: 4px solid #c9a400 !important; color: #1a1400 !important; }
body.light-mode .row.accent-pay { background: #e8fff4 !important; border-left: 4px solid #059669 !important; color: #053e2f !important; }
body.light-mode .row.accent-doplatek { background: #ffecec !important; border-left: 4px solid #b91c1c !important; color: #5c0c0c !important; }
body.light-mode .row.accent-grand { 
  background: linear-gradient(90deg, #fff3b0, #ffe38a) !important; 
  border-left: 5px solid #c9a400 !important; 
  box-shadow: 0 0 14px rgba(201,164,0,.20) !important;
  color:#1a1400 !important;
}


/* === LIGHT MODE TEXT FIX (v17) === */
body.light-mode #output .row .key,
body.light-mode #output .row .val {
  color: #111 !important;
}

body.light-mode #output .row .key i {
  color: #555 !important;
}

/* Accent values stronger in light */
body.light-mode .row.accent-odev .val { color: #1d4ed8 !important; }
body.light-mode .row.accent-pay .val { color: #047857 !important; }
body.light-mode .row.accent-doplatek .val { color: #b91c1c !important; }
body.light-mode .row.accent-grand .val { color: #78350f !important; }


/* === LIGHT READABILITY BOOST (v18) === */
/* Make output card solid white in light mode for max contrast */
body.light-mode #output,
@media (prefers-color-scheme: light){ body:not(.light-mode) #output { background:#ffffff !important; border:1px solid #e5e7eb !important; box-shadow: 0 6px 24px rgba(0,0,0,.06) !important; } }
body.light-mode #output { background:#ffffff !important; border:1px solid #e5e7eb !important; box-shadow: 0 6px 24px rgba(0,0,0,.06) !important; }

/* Stronger text */
body.light-mode #output .row .key,
body.light-mode #output .row .val { color:#0b0b0c !important; }
@media (prefers-color-scheme: light){
  body:not(.light-mode) #output .row .key,
  body:not(.light-mode) #output .row .val { color:#0b0b0c !important; }
}
body.light-mode #output .row .key { font-weight:700 !important; }
body.light-mode #output .row .val { font-weight:800 !important; }
@media (prefers-color-scheme: light){
  body:not(.light-mode) #output .row .key { font-weight:700 !important; }
  body:not(.light-mode) #output .row .val { font-weight:800 !important; }
}

/* Icon tint darker */
body.light-mode #output .row .key .ico,
body.light-mode #output .row .key i { color:#444 !important; }
@media (prefers-color-scheme: light){
  body:not(.light-mode) #output .row .key .ico,
  body:not(.light-mode) #output .row .key i { color:#444 !important; }
}

/* Accent backgrounds: bump contrast */
body.light-mode .row.accent-odev { background:#fff2b3 !important; border-left-color:#b58900 !important; }
body.light-mode .row.accent-pay { background:#d1fae5 !important; border-left-color:#047857 !important; }
body.light-mode .row.accent-doplatek { background:#ffe0e0 !important; border-left-color:#b91c1c !important; }
body.light-mode .row.accent-grand { background:linear-gradient(90deg,#ffe8a3,#ffd76e) !important; border-left-color:#b8860b !important; }
@media (prefers-color-scheme: light){
  body:not(.light-mode) .row.accent-odev { background:#fff2b3 !important; border-left-color:#b58900 !important; }
  body:not(.light-mode) .row.accent-pay { background:#d1fae5 !important; border-left-color:#047857 !important; }
  body:not(.light-mode) .row.accent-doplatek { background:#ffe0e0 !important; border-left-color:#b91c1c !important; }
  body:not(.light-mode) .row.accent-grand { background:linear-gradient(90deg,#ffe8a3,#ffd76e) !important; border-left-color:#b8860b !important; }
}

/* Accent values color ensure */
body.light-mode .row.accent-odev .val { color:#1d4ed8 !important; }
body.light-mode .row.accent-pay .val { color:#065f46 !important; }
body.light-mode .row.accent-doplatek .val { color:#991b1b !important; }
body.light-mode .row.accent-grand .val { color:#0b0b0c !important; }
@media (prefers-color-scheme: light){
  body:not(.light-mode) .row.accent-odev .val { color:#1d4ed8 !important; }
  body:not(.light-mode) .row.accent-pay .val { color:#065f46 !important; }
  body:not(.light-mode) .row.accent-doplatek .val { color:#991b1b !important; }
  body:not(.light-mode) .row.accent-grand .val { color:#0b0b0c !important; }
}

/* Slightly tighten rows */
body.light-mode #output .row { padding:6px 10px !important; margin:6px 0 !important; }
@media (prefers-color-scheme: light){
  body:not(.light-mode) #output .row { padding:6px 10px !important; margin:6px 0 !important; }
}


/* === LIGHT MODE BUTTON FIX (v19) === */
body.light-mode button {
  background: #f3f4f6 !important;
  border: 1px solid #d1d5db !important;
  color: #111 !important;
  font-weight: 600 !important;
  border-radius: 999px !important;
  box-shadow: 0 2px 6px rgba(0,0,0,.08) !important;
}

body.light-mode #shareImgBtn {
  background: linear-gradient(135deg, #0ea5e9, #3b82f6) !important;
  border: none !important;
  color: #fff !important;
  font-weight: 700 !important;
  box-shadow: 0 4px 12px rgba(59,130,246,.4) !important;
}

body.light-mode button:disabled {
  background: #f9fafb !important;
  color: #9ca3af !important;
  border: 1px solid #e5e7eb !important;
  box-shadow: none !important;
}


/* === BLOCK SPACING FIX (v20) === */
form { margin-bottom: 28px !important; }
#output { margin-top: 28px !important; }


/* === V21: MOBILE-OPTIMIZED "NEO NOIR" + ACCESSIBLE CONTRAST === */

/* 0) Mobile UX foundations */
html { -webkit-text-size-adjust: 100%; }
body { -webkit-tap-highlight-color: transparent; }
button, .btn { min-height: 48px !important; min-width: 44px !important; }
input, select, textarea { min-height: 44px !important; }
:focus-visible { outline: 2px solid rgba(99,102,241,.9); outline-offset: 2px; }

/* Safe-area support (iOS notch) */
@supports(padding: max(0px)) {
  body { padding-left: max(12px, env(safe-area-inset-left)); padding-right: max(12px, env(safe-area-inset-right)); }
  footer, .actions { padding-bottom: max(12px, env(safe-area-inset-bottom)); }
}

/* Reduce motion for sensitive users */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}

/* 1) Typography scale using clamp for mobile→desktop */
:root {
  --fs-base: clamp(14px, 1.6vw, 16px);
  --fs-key: clamp(14px, 1.5vw, 16px);
  --fs-val: clamp(15px, 1.8vw, 18px);
  --fs-total: clamp(16px, 2vw, 20px);
}
#output .row .key { font-size: var(--fs-key) !important; }
#output .row .val { font-size: var(--fs-val) !important; }
.row.accent-grand .val { font-size: var(--fs-total) !important; }

/* 2) High-contrast chips (replace pale yellow) */
/* Odevzdání – from yellow to AMBER with dark text */
.row.accent-odev {
  background: linear-gradient(180deg, #f59e0b, #d97706) !important; /* amber 500→600 */
  border: 1px solid #b45309 !important; /* amber 700 */
  color: #111 !important;
}
.row.accent-odev .val { color: #111 !important; text-shadow: none !important; }

/* Výplata – emerald, keep white text for contrast */
.row.accent-pay {
  background: linear-gradient(180deg, #10b981, #059669) !important;
  border: 1px solid #047857 !important;
  color: #ffffff !important;
}
.row.accent-pay .val { color: #ffffff !important; }

/* Doplatek – ruby, white text */
.row.accent-doplatek {
  background: linear-gradient(180deg, #ef4444, #b91c1c) !important;
  border: 1px solid #7f1d1d !important;
  color: #ffffff !important;
}
.row.accent-doplatek .val { color: #ffffff !important; }

/* Grand total – better readability: dark card with gold border */
.row.accent-grand {
  background: linear-gradient(180deg, #0f172a, #0b1224) !important; /* slate/indigo dark */
  border: 2px solid #d4af37 !important; /* gold border */
  color: #fef3c7 !important;            /* warm light text */
  box-shadow: 0 6px 22px rgba(212,175,55,.25) !important;
}
.row.accent-grand .key::before { content: "👑"; margin-right: 6px; }
.row.accent-grand .val { color: #fde68a !important; text-shadow: 0 1px 1px rgba(0,0,0,.35); }

/* 3) Surfaces – Neo Noir (dark) with improved contrast */
@media (prefers-color-scheme: dark) {
  body { background: radial-gradient(1200px 600px at 30% -20%, rgba(255,215,0,.08), transparent), #0b0b10 !important; }
  #output { background: #121216 !important; border: 1px solid rgba(255,255,255,.08) !important; }
  form { background: #14141a !important; border: 1px solid rgba(255,255,255,.08) !important; }
  #output .row .key, #output .row .val { color: #f1f5f9 !important; }
}

/* 4) Light mode readability stays solid */
body.light-mode #output { background:#ffffff !important; border:1px solid #e5e7eb !important; }
body.light-mode #output .row .key, 
body.light-mode #output .row .val { color:#0b0b0c !important; }
